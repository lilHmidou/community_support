{% extends 'base.html.twig' %}

{% block title %}Contact{% endblock %}
{% block head %}
    {{ parent() }}
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" integrity="sha384-XkdMbIgMvEiqPyTcl3jJbNylIt6A2ZYTgGmB3KMUnMw5f79baJpPHl0G1E27XbCB" crossorigin="anonymous">
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js" integrity="sha384-7t1JeIXjz0BjYafV8Jvs6jL20KwHjVNfkcLb2lB04e+1C00EmHtjq2i8r9pB6J90" crossorigin="anonymous"></script>
{% endblock %}

{% block body %}
    {% block stylesheets %}
        <link rel="stylesheet" href="{{ asset('styles/contact.css') }}">
    {% endblock %}
    <br>
    <br>
    <br>
    <div class="form-container">
        <div class="title">
            <h1>Contactez-nous</h1>
        </div>
        {{ form_start(contactForm, {'attr': {'class': 'form'}}) }}
        <br>
        {{ form_row(contactForm.topic, {'attr': {'class': 'form-control'}}) }}
        <br>
        {{ form_row(contactForm.contentCM, {'attr': {'class': 'form-control'}}) }}
        <div class="form-group">
            <br>
            <button type="submit" class="button-submit">Envoyer</button>
        </div>
        {{ form_end(contactForm) }}
        <br>
        <section id="location-map">
            <h2 class="mb-3">Carte de localisation</h2>
            <div id="officeMap" style="height: 400px;"></div>
        </section>
    </div>

    {% block javascripts %}
        <script>
            document.addEventListener("DOMContentLoaded", function() {
                const myMap = L.map('officeMap').setView([48.8566, 2.3522], 15);
                L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                    maxZoom: 18,
                    attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
                }).addTo(myMap);

                var marker = L.marker([48.8566, 2.3522]).addTo(myMap);
                marker.bindPopup("<b>Nos Locaux</b><br>Adresse exacte ici.").openPopup();
            });
        </script>
    {% endblock %}
{% endblock %}


 {# Layal quand tu travaillera les pages, rend-toi sur form.css pour supprimer ce que j'ai fait si tu dois changer...
 A noté que la carte ne se charge pas, ceci est quelque peu embêtant...#}